@import "tailwindcss";

/* CSS Variables for theming */
:root {
  --background: #09090b;
  --surface: #18181b;
  --surface-highlight: #27272a;

  --primary: #3b82f6;
  --primary-glow: #60a5fa;

  --alert-red: #ef4444;
  --alert-yellow: #eab308;
  --success-green: #10b981;

  --text-main: #f4f4f5;
  --text-muted: #a1a1aa;

  --font-mono: "JetBrains Mono", monospace;
}

/* Light Theme Override */
.light {
  --background: #f5f5f7;
  --surface: #ffffff;
  --surface-highlight: #e8e8ed;

  --primary: #2563eb;
  --primary-glow: #1d4ed8;

  --alert-red: #dc2626;
  --alert-yellow: #ca8a04;
  --success-green: #059669;

  --text-main: #1d1d1f;
  --text-muted: #6e6e73;
}

/* Light theme header */
.light header {
  background: rgba(255, 255, 255, 0.9) !important;
  border-color: rgba(0, 0, 0, 0.12) !important;
  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
}

/* Light theme - all white/5 and white/10 borders become visible */
.light .border-white\/10,
.light .border-white\/5,
.light [class*="border-white"] {
  border-color: rgba(0, 0, 0, 0.12) !important;
}

/* Light theme - surfaces get shadows and visible borders */
.light .bg-surface,
.light .bg-surface\/50,
.light .bg-surface\/30 {
  background-color: #ffffff !important;
  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.08), 0 0 0 1px rgba(0, 0, 0, 0.05);
}

.light .bg-surface-highlight,
.light .bg-surface-highlight\/50 {
  background-color: #f0f0f5 !important;
}

/* Light theme - fix white text */
.light .text-white {
  color: #1d1d1f !important;
}

.light .text-text-muted {
  color: #6e6e73 !important;
}

/* Light theme - icons and muted elements */
.light .text-white\/50 {
  color: rgba(0, 0, 0, 0.4) !important;
}

.light .bg-white\/5 {
  background-color: rgba(0, 0, 0, 0.04) !important;
}

.light .bg-white\/10 {
  background-color: rgba(0, 0, 0, 0.06) !important;
}

/* Light theme - hover states */
.light .hover\:text-white:hover {
  color: #1d1d1f !important;
}

.light .hover\:bg-white\/5:hover {
  background-color: rgba(0, 0, 0, 0.04) !important;
}

/* Light theme - upload component and dashed borders need strong visibility */
.light .border-dashed {
  border-color: rgba(0, 0, 0, 0.2) !important;
  border-width: 2px !important;
}

/* Light theme - cards get visible borders */
.light [class*="rounded-xl"][class*="border"],
.light [class*="rounded-lg"][class*="border"] {
  border-color: rgba(0, 0, 0, 0.1) !important;
  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.06);
}

/* Light theme - primary button borders */
.light .border-primary\/20 {
  border-color: rgba(37, 99, 235, 0.3) !important;
}

.light .bg-primary\/10 {
  background-color: rgba(37, 99, 235, 0.1) !important;
}

/* Light theme - hover primary */
.light .hover\:border-primary\/50:hover {
  border-color: rgba(37, 99, 235, 0.5) !important;
}

.light .hover\:bg-primary\/5:hover {
  background-color: rgba(37, 99, 235, 0.08) !important;
}

/* Light theme - status stream / agent logs */
.light .bg-black\/80 {
  background-color: #f8f8fa !important;
  border-color: rgba(0, 0, 0, 0.1) !important;
}

.light .bg-black\/60 {
  background-color: rgba(255, 255, 255, 0.9) !important;
}

/* Status stream text in light mode */
.light .bg-black\/80 .text-white {
  color: #1d1d1f !important;
}

.light .bg-black\/80 .text-white\/60 {
  color: #6e6e73 !important;
}

.light .bg-black\/80 .text-white\/20 {
  color: rgba(0, 0, 0, 0.2) !important;
}

/* Light theme - audit table */
.light .divide-white\/5>*+* {
  border-color: rgba(0, 0, 0, 0.08) !important;
}

/* Light theme - table header background */
.light .bg-white\/5 {
  background-color: #f5f5f7 !important;
}

/* Light theme - table rows hover */
.light .hover\:bg-white\/5:hover {
  background-color: rgba(0, 0, 0, 0.02) !important;
}

/* Light theme - accordion expanded content */
.light .bg-surface\/30 {
  background-color: #fafafa !important;
  border-color: rgba(0, 0, 0, 0.08) !important;
}

/* Light theme - code blocks and technical panels */
.light .bg-black\/50 {
  background-color: #f5f5f7 !important;
}

/* Light theme - chevron arrows in table rows */
.light .text-white\/30 {
  color: rgba(0, 0, 0, 0.3) !important;
}

/* Light theme - status badges need stronger backgrounds */
.light .bg-red-500\/10 {
  background-color: rgba(239, 68, 68, 0.15) !important;
}

.light .bg-yellow-500\/10 {
  background-color: rgba(234, 179, 8, 0.15) !important;
}

.light .bg-green-500\/10 {
  background-color: rgba(34, 197, 94, 0.15) !important;
}

/* Light theme - status badge borders */
.light .border-red-500\/20 {
  border-color: rgba(239, 68, 68, 0.3) !important;
}

.light .border-yellow-500\/20 {
  border-color: rgba(234, 179, 8, 0.3) !important;
}

.light .border-green-500\/20 {
  border-color: rgba(34, 197, 94, 0.3) !important;
}

/* Light theme - status badge text (darker for readability) */
.light .text-red-400 {
  color: #dc2626 !important;
}

.light .text-yellow-400 {
  color: #b45309 !important;
}

.light .text-green-400 {
  color: #15803d !important;
}

/* Light theme - row hover backgrounds */
.light .bg-red-950\/10 {
  background-color: rgba(239, 68, 68, 0.05) !important;
}

.light .hover\:bg-red-950\/20:hover {
  background-color: rgba(239, 68, 68, 0.08) !important;
}

.light .bg-yellow-950\/10 {
  background-color: rgba(234, 179, 8, 0.05) !important;
}

.light .hover\:bg-yellow-950\/20:hover {
  background-color: rgba(234, 179, 8, 0.08) !important;
}

/* Light theme - image preview container */
.light .bg-black {
  background-color: #e8e8ed !important;
}

.light .bg-black\/30 {
  background-color: rgba(0, 0, 0, 0.05) !important;
}

.light .bg-black\/60 {
  background-color: rgba(0, 0, 0, 0.1) !important;
}

/* Light theme - image preview hover overlay */
.light .group:hover .group-hover\:bg-black\/60 {
  background-color: rgba(255, 255, 255, 0.85) !important;
}

/* Light theme - image preview text */
.light .group-hover\:opacity-100 .text-white {
  color: #1d1d1f !important;
}

/* Light theme - primary icon backgrounds */
.light .bg-primary\/20 {
  background-color: rgba(37, 99, 235, 0.15) !important;
}

.light .border-primary\/50 {
  border-color: rgba(37, 99, 235, 0.4) !important;
}

@theme inline {
  --color-background: var(--background);
  --color-surface: var(--surface);
  --color-surface-highlight: var(--surface-highlight);
  --color-primary: var(--primary);
  --color-alert-red: var(--alert-red);
  --color-alert-yellow: var(--alert-yellow);
  --color-success-green: var(--success-green);
  --font-mono: var(--font-mono);
}

body {
  background: var(--background);
  color: var(--text-main);
  font-family: var(--font-geist-sans), sans-serif;
  -webkit-font-smoothing: antialiased;
  transition: background-color 0.3s ease, color 0.3s ease;
}

.scan-line {
  width: 100%;
  height: 2px;
  background: rgba(59, 130, 246, 0.5);
  box-shadow: 0 0 10px rgba(59, 130, 246, 0.8);
  position: absolute;
  top: 0;
  left: 0;
  animation: scan 2s linear infinite;
}

@keyframes scan {
  0% {
    top: 0%;
    opacity: 0;
  }

  10% {
    opacity: 1;
  }

  90% {
    opacity: 1;
  }

  100% {
    top: 100%;
    opacity: 0;
  }
}

/* ============================================
   MOBILE RESPONSIVE STYLES
   ============================================ */

/* Mobile base adjustments */
@media (max-width: 768px) {

  /* Smaller padding on mobile */
  main {
    padding: 1rem !important;
  }

  /* Stack grid layouts on mobile */
  .grid-cols-\[350px_1fr\] {
    grid-template-columns: 1fr !important;
  }

  /* Make tables scrollable horizontally */
  .overflow-x-auto {
    -webkit-overflow-scrolling: touch;
  }

  /* Reduce font sizes slightly */
  h1 {
    font-size: 1.25rem !important;
  }

  h2 {
    font-size: 1rem !important;
  }

  /* Touch-friendly button sizes */
  button,
  a {
    min-height: 44px;
  }

  /* Smaller minimum for icon-only buttons */
  button:has(svg:only-child) {
    min-height: 36px;
    min-width: 36px;
  }
}

/* Tablet adjustments */
@media (max-width: 1024px) and (min-width: 769px) {
  main {
    padding: 1.5rem !important;
  }
}

/* Audit table mobile styles */
@media (max-width: 768px) {

  /* Make table cells wrap better */
  .audit-table td,
  .audit-table th {
    padding: 0.5rem !important;
    font-size: 0.75rem !important;
  }

  /* Make sure long text doesn't break layout */
  .truncate {
    max-width: 150px;
  }
}

/* History list mobile adjustments */
@media (max-width: 640px) {

  /* Stack history card content */
  .history-card {
    flex-direction: column !important;
    align-items: flex-start !important;
  }

  /* Smaller thumbnails on mobile */
  .history-thumbnail {
    width: 100% !important;
    height: 120px !important;
    object-fit: cover;
  }
}

/* Scanner interface mobile */
@media (max-width: 768px) {

  /* Adjust scanner height for mobile */
  .scanner-interface {
    height: 250px !important;
  }
}

/* Safe area for notched phones */
@supports (padding-bottom: env(safe-area-inset-bottom)) {
  .fixed-bottom {
    padding-bottom: env(safe-area-inset-bottom);
  }
}

/* Prevent horizontal scroll on mobile */
html,
body {
  overflow-x: hidden;
  max-width: 100vw;
}

/* Smooth scrolling for mobile */
html {
  scroll-behavior: smooth;
}

/* Better touch targets */
@media (pointer: coarse) {

  a,
  button {
    padding: 0.5rem;
  }

  input,
  select,
  textarea {
    font-size: 16px;
    /* Prevents zoom on iOS */
  }
}